<!doctype html>
<html lang="en">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- Bootstrap CSS -->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
		<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
		
		<title>Country and Code</title>

	</head>
	<body class="">

		<header class="bg-secondary text-light text-center border py-1">
			<h2 class="">Country and Code</h2>
		</header>
		
		
		<main>
			<div class="container">
				<form action="" class="form w-50 m-auto">
					<h3 class="text-center" style="margin-top: 200px;">Find your country code</h3>
					<div class="input-group">
						<select id="select-country" class="form-select form-select-lg mt-3" type="text" name="country" id="country">
							<option value="" selected disabled hidden>-- Select a country --</option>
						</select>
						<input id="auto-code" class="input-group-text mt-3" type="text" name="code" id="code" placeholder="Country Code" disabled>
					</div>
				</form>
			</div>
		</main>

		
		<footer class="bg-secondary text-light text-center border position-absolute start-0 end-0 bottom-0 py-1">
			<p class="m-0">Copiright&copy; Aftab Ahmed, aftab2060@gmail.com</p>
		</footer>

		<!-- Optional JavaScript; choose one of the two! -->

		<!-- AJAX -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

		<!-- Option 1: jQuery -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<!-- Option 1: Bootstrap Bundle with Popper -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

		<script>
			$(document).ready(function(){
				$.ajax({
					url: "country_code.json",
					type: "GET",
					success: function(countries){
						for(let i in countries){
							$('#select-country').append(
								'<option value="'+countries[i].name+'">'+countries[i].name+'</option>'
							);
							$('#select-country').change(function(){
								if($('#select-country option:selected').val() == countries[i].name){
									$('#auto-code').val(countries[i].code);
								}
							});
						}
					},
				}); 
			});
		</script>
	</body>
</html>